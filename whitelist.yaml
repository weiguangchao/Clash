proxy-providers:
  sub0:
    type: http
    url: https://xxxxx
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      expected-status: 204
      timeout: 5000
      interval: 300
      lazy: true
###############################################################

###############################################################
find-process-mode: strict
global-client-fingerprint: chrome
tcp-concurrent: true
unified-delay: true
disable-keep-alive: false
keep-alive-interval: 15
keep-alive-idle: 300
profile:
  store-selected: true
  store-fake-ip: true
###############################################################

###############################################################
geodata-mode: true
geodata-loader: memconservative
geo-auto-update: true
geo-update-interval: 24
geox-url:
  mmdb: https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country-lite.mmdb
  geoip: https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip-lite.dat
  geosite: https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat
  asn: https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/GeoLite2-ASN.mmdb
###############################################################

###############################################################
sniffer:
  enable: true
  parse-pure-ip: true
  force-dns-mapping: true
  override-destination: false
  sniff:
    QUIC:
      ports:
        - 443
        - 8443
    TLS:
      ports:
        - 443
        - 8443
    HTTP:
      ports:
        - 80
        - 8080-8880
      override-destination: true
  skip-domain:
    - Mijia Cloud
    - +.push.apple.com
    - +.oray.com
    - +.sunlogin.net
###############################################################

###############################################################
dns:
  enable: true
  enhanced-mode: fake-ip
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - lens.l.google.com
    - stun.l.google.com
    - stun.*.*
    - stun.*.*.*
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*
    - +.stun.*.*.*.*.*
    - +.stun.*.*.*.*.*.*
    - geosite:connectivity-check
    - geosite:private
  use-hosts: false
  use-system-hosts: false
###############################################################

###############################################################
proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - ğŸ¤– è‡ªåŠ¨é€‰æ‹©
      - ğŸŒ´ æ‰‹åŠ¨é€‰æ‹©
      - DIRECT
  - name: ğŸ¤– è‡ªåŠ¨é€‰æ‹©
    type: select
    proxies:
      - ğŸ‡­ğŸ‡° HK-è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡¹ğŸ‡¼ TW-è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡¯ğŸ‡µ JP-è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡ºğŸ‡¸ US-è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡¸ğŸ‡¬ SG-è‡ªåŠ¨é€‰æ‹©
      - ğŸŒ å…¶ä»–åœ°åŒº
  - name: ğŸ“º å“”å“©å“”å“©
    type: select
    proxies:
      - DIRECT
      - ğŸ‡­ğŸ‡° HK-è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡¹ğŸ‡¼ TW-è‡ªåŠ¨é€‰æ‹©
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - name: â±ï¸ æµ‹é€Ÿå·¥å…·
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - name: ğŸ”€ éæ ‡ç«¯å£
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - name: ğŸŒ´ æ‰‹åŠ¨é€‰æ‹©
    type: select
    include-all: true
    exclude-type: direct
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
    hidden: true
  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
    hidden: true
  - name: ğŸƒ éšç§å‡€åŒ–
    type: select
    proxies:
      - REJECT
    hidden: true
  - name: ğŸ‡­ğŸ‡° HK-è‡ªåŠ¨é€‰æ‹©
    filter: "(?i)ğŸ‡­ğŸ‡°|æ¸¯|hk|hongkong|hong kong"
    include-all: true
    exclude-type: direct
    type: url-test
    url: https://www.gstatic.com/generate_204
    expected-status: 204
    interval: 300
    timeout: 5000
    max-failed-times: 5
    lazy: true
    hidden: true
  - name: ğŸ‡¹ğŸ‡¼ TW-è‡ªåŠ¨é€‰æ‹©
    filter: "(?i)ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|å°|tw|taiwan"
    include-all: true
    exclude-type: direct
    type: url-test
    url: https://www.gstatic.com/generate_204
    expected-status: 204
    interval: 300
    timeout: 5000
    max-failed-times: 5
    lazy: true
    hidden: true
  - name: ğŸ‡¯ğŸ‡µ JP-è‡ªåŠ¨é€‰æ‹©
    filter: "(?i)ğŸ‡¯ğŸ‡µ|æ—¥|jp|japan"
    include-all: true
    exclude-type: direct
    type: url-test
    url: https://www.gstatic.com/generate_204
    expected-status: 204
    interval: 300
    timeout: 5000
    max-failed-times: 5
    lazy: true
    hidden: true
  - name: ğŸ‡ºğŸ‡¸ US-è‡ªåŠ¨é€‰æ‹©
    filter: "(?i)ğŸ‡ºğŸ‡¸|ç¾|us|unitedstates|united states"
    include-all: true
    exclude-type: direct
    type: url-test
    url: https://www.gstatic.com/generate_204
    expected-status: 204
    interval: 300
    timeout: 5000
    max-failed-times: 5
    lazy: true
    hidden: true
  - name: ğŸ‡¸ğŸ‡¬ SG-è‡ªåŠ¨é€‰æ‹©
    filter: "(?i)(ğŸ‡¸ğŸ‡¬|æ–°|sg|singapore)"
    include-all: true
    exclude-type: direct
    type: url-test
    url: https://www.gstatic.com/generate_204
    expected-status: 204
    interval: 300
    timeout: 5000
    max-failed-times: 5
    lazy: true
    hidden: true
  - name: ğŸŒ å…¶ä»–åœ°åŒº
    type: url-test
    include-all: true
    exclude-type: direct
    filter: "(?i)^(?!.*(?:ğŸ‡­ğŸ‡°|æ¸¯|hk|hongkong|hong kong|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|å°|tw|taiwan|ğŸ‡¯ğŸ‡µ|æ—¥|jp|japan|ğŸ‡ºğŸ‡¸|ç¾|us|unitedstates|united states|ğŸ‡¸ğŸ‡¬|æ–°|sg|singapore)).*"
    url: https://www.gstatic.com/generate_204
    expected-status: 204
    interval: 300
    timeout: 5000
    max-failed-times: 5
    lazy: true
    hidden: true
###############################################################

###############################################################
rule-providers:
  adblockmihomo:
    type: http
    behavior: domain
    format: yaml
    interval: 86400
    url: https://cdn.jsdelivr.net/gh/217heidai/adblockfilters@main/rules/adblockmihomo.yaml
    path: ./217heidai/adblockmihomo.yaml
  port_classical:
    type: http
    behavior: classical
    format: yaml
    interval: 86400
    url: https://cdn.jsdelivr.net/gh/weiguangchao/Clash/port_classical.yaml
    path: ./Clash/port_classical.yaml
  reject_classical:
    type: http
    behavior: classical
    format: yaml
    interval: 86400
    url: https://cdn.jsdelivr.net/gh/weiguangchao/Clash/reject_classical.yaml
    path: ./Clash/reject_classical.yaml
  direct_classical:
    type: http
    behavior: classical
    format: yaml
    interval: 86400
    url: https://cdn.jsdelivr.net/gh/weiguangchao/Clash/direct_classical.yaml
    path: ./Clash/direct_classical.yaml
###############################################################

###############################################################
rules:
  - RULE-SET,adblockmihomo,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,reject_classical,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  ###############################################################
  - GEOIP,private,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - GEOIP,telegram,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,no-resolve
  - RULE-SET,direct_classical,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,private,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,google-cn,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,apple,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,category-public-tracker,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,category-speedtest,â±ï¸ æµ‹é€Ÿå·¥å…·
  - GEOSITE,category-games,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,bilibili,ğŸ“º å“”å“©å“”å“©
  - GEOSITE,github,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - GEOSITE,microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - GEOSITE,gfw,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - GEOSITE,cn,ğŸ¯ å…¨çƒç›´è¿
  ###############################################################
  - GEOIP,cn,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,port_classical,ğŸ”€ éæ ‡ç«¯å£
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
###############################################################
